<!DOCTYPE html>
<html>
    <head>
        <title>Rock-paper-scissors</title>
        
    </head>
    <body>
        <p>Rock-Paper-Scissors<br></p>
        
            <button onclick="
            playGame('Rock');
            " >Rock</button>

            <button onclick="
            playGame('Papper');
            ">Papper</button>

            <button onclick="  
            playGame('Scissors');
            ">Scissors</button>    
             <button onclick="  
            reset();
            ">Reset Scores</button> 
        
        
        <script>
            const score=JSON.parse(localStorage.getItem('score')) || {wins:0,losses:0,ties:0};
            /*if(!score){
                score ={
                    wins:0,losses:0,ties:0
                };
            }*/

            function reset(){
                score.wins=0;
                score.losses=0;
                score.ties=0;
                localStorage.removeItem('score');
                alert(`Scores:->\nWin : ${score.wins}, Losses : ${score.losses}, Ties : ${score.ties}`);
            }
            console.log(JSON.parse(localStorage.getItem('score'))); //JSON.parse() is used to get the value in string,i.e., string to obj

            function playGame(playerMove){
                let computerMove=pickComputerMove();
                let result='';
                if(playerMove === 'Scissors'){
                    if(computerMove==='Rock'){result='You Lose';}
                    else if(computerMove==='Papper'){result='You Win';}
                    else if(computerMove==='Scissors'){result='Tie';}
                }

                else if(playerMove==='Papper'){
                    if(computerMove==='Rock'){result='You Win';}
                    else if(computerMove==='Papper'){result='Tie';}
                    else if(computerMove==='Scissors'){result='You Lose';}
                    
                }

                else if(playerMove==="Rock"){
                    if(computerMove==='Rock'){result='Tie';}
                    else if(computerMove==='Papper'){result='You Lose';}
                    else if(computerMove==='Scissors'){result='You Win';}
                    
                }
                if(result==='You Win'){
                    score.wins+=1;
                }
                else if(result==='You Lose'){
                    score.losses+=1;
                }
                else if(result==='Tie'){
                    score.ties+=1;
                }

                localStorage.setItem('score', JSON.stringify(score)); //JSON.stringify() is used to make the "score" object into a string, i.e., obj to string

                alert(`You picked ${playerMove}, Computer picked ${computerMove}, ${result}, wins:${score.wins},Losses:${score.losses}, Ties:${score.ties}`);

            }


            function pickComputerMove(){
                let computerMove='';
                const randomNumber=Math.random();
                if(randomNumber>=0 && randomNumber<(1/3)){
                    computerMove='Rock';
                }
                //const randomNumber=Math.random();
                else if(randomNumber>=0 && randomNumber<(2/3)){
                    computerMove='Papper';
                }
                //const randomNumber=Math.random();
                else if(randomNumber>=0 && randomNumber<(3/3)){
                    computerMove='Scissors';
                }
                console.log(`Computer Move : ${computerMove}`);
                return computerMove;
            }
        </script>
           
    </body>
</html>